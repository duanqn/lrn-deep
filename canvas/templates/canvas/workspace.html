<!DOCTYPE html>
<html>
    
    <head>
        {% load static %}
        <!-- Bootstrap core CSS -->
        <link href="{% static "vendor/bootstrap/css/bootstrap.min.css" %}" rel="stylesheet">
        <!-- Custom styles for this template -->
        <link href="{% static "canvas/css/simple-sidebar.css" %}" rel="stylesheet">
        <!-- Custom styles for this view -->
        <link href="{% static "canvas/css/canvas.css" %}" rel="stylesheet">
        <link href="{% static "canvas/css/code.css" %}" rel="stylesheet">
        <link href="{% static "canvas/css/prism.css" %}" rel="stylesheet">
        <!-- Custom fonts for this template -->
        <link href="{%static "vendor/fontawesome-free/css/all.min.css" %}" rel="stylesheet"> 
        <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

        <!-- Bootstrap core JavaScript -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gojs/1.8.12/go.js"></script>
        <script src="{% static "vendor/jquery/jquery.min.js" %}"></script>
        <script src="{% static "vendor/bootstrap/js/bootstrap.bundle.min.js" %}"></script>
        <!-- GoJS core JavaScript -->
        <script src="{% static "canvas/js/go-debug.js" %}"></script>
        <!-- Custom scripts for this view -->
        <script src="{% static "canvas/js/canvas.js" %}"></script>
        <script src="{% static "canvas/js/compile.js" %}"></script>
        <script src="{% static "canvas/js/prism.js" %}"></script>
    </head>
    
    <body>
        
        <div id="wrapper">
            <!-- Sidebar -->
            <div id="sidebar-wrapper">
                <ul class="sidebar-nav">
                    <li class="sidebar-brand">
                        <a href="{% url 'canvas:index' %}">LrnDeep</a>
                    </li>
                    <li><a href="#">New</a></li>
                    <li><a href="#">Open</a></li>
                    <li><a href="#">Help</a></li>
                    <li><a href="#">Settings</a></li>
										<li><a href="{% url 'users:logout' %}">Logout</a></li>
                </ul>
            </div>
            <!-- /#sidebar-wrapper -->
            
            <!-- Page Content -->
            <div id="page-content-wrapper">
                <div class="container-fluid">
                    <div class="row">
                        
                        <!-- canvas wrapper -->
                        <div id="canvas-wrapper" class="col-md-8">
                            <!-- topbar -->
                            <div id="topbar-wrapper">
                                <a href="#menu-toggle" class="topbar-btn btn btn-secondary" id="menu-toggle">Menu</a>
                                <a href="#compile-diagram" class="topbar-btn btn btn-secondary" id="compile-diagram">Compile</a>
                                <a href="#save-diagram" class="topbar-btn btn btn-secondary" id="save-diagram">Save</a>
                                <a href="" class="topbar-btn btn btn-secondary" id="topbar-btn-export">Export</a>
                            </div>
                            <!-- canvas -->
                            <div id="canvas">

<!--
                                <div id="canvas-diagram" class="canvas-section" style="height: 300px; background-color: #C1D5E3;"></div>
                                <div id="canvas-warehouse" class="canvas-section" style="height: 150px; background-color: #C1D5E3;"></div>
                                <div id="canvas-palette" class="canvas-section" style="height: 200px; background-color: #C1D5E3;"></div>
-->
                                
                                <div id="canvas-diagram" class="canvas-section"></div>
                                <div id="canvas-warehouse" class="canvas-section"></div>
                                <div id="canvas-palette" class="canvas-section">
                                
                                </div>

                            </div>
<!--                            <div id="palette-button"><button id="demo" onclick="myFunction()">Try it</button><div>-->
                        </div>
                        <!-- /#canvas-wrapper -->
                        
                        <!-- code-wrapper -->
                        <div id="code-wrapper" class="col-md-4">
                            <pre><code id="generated-code" class="language-python">"""The Deep Learning [default] model, powered by LrnDeep"""</code></pre>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /#page-content-wrapper -->
            
        </div>
        <!-- /#wrapper -->
    
        <!-- Menu Toggle Script -->
        <script>
            $("#menu-toggle").click(function(e) {
                e.preventDefault();
                $("#wrapper").toggleClass("toggled");
            });
            $("#compile-diagram").click(function(e) {
                e.preventDefault();
                diagramNodes = diagram.model.nodeDataArray;
                // console.log(diagramNodes);
                var network = [];
                for (i = 0; i < diagramNodes.length; i++) {
                    network.push({"name": "FC", "output_shape": diagramNodes[i]["output"]});
                }
                var network_name = "default"
                generatedCode = compile(network, network_name);
                // Allow animation for generating code
                $('#generated-code').fadeOut('fast');
                document.getElementById("generated-code").innerHTML = generatedCode;
                $('#generated-code').fadeIn('fast');
                Prism.highlightElement(document.getElementById("generated-code"));
            });
            $("#save-diagram").click(function(e) {
                e.preventDefault();
            });
        </script>
        
        <!-- Canvas Initialization Script -->
        <script>
            window.onload = function() {
                init()
            };
        </script>
        
        <!-- Add shape script -->
<!--
        <script>
        function myFunction() {
            var txt;
            var person = prompt("Please enter your name:", "Harry Potter");
            if (person == null || person == "") {
                txt = "User cancelled the prompt.";
            } else {
                txt = "Hello " + person + "! How are you today?";
            }
            document.getElementById("demo").innerHTML = txt;
        }
        </script>
-->
        
    </body>
    
</html>
